<!DOCTYPE html>
<head>
<title>Xenoblade Cookie Clicker Clone</title>
<link rel = "stylesheet" href = "MainGame.css">
</head>
<body>
<header>
    <script src="NPC_AI.js"></script> 
    <script src = "Sound.js"></script>
    <p> Credits</p>
</header>
<div class="MainGame">
    <div class="Shop">
        <div>
            <img src = "images/dunban.png" class="Character" id="Dunban" onclick="PurchaseCharacter(this)">
            <p> 400 Points</p>
        </div>
        <div>
            <img src = "images/Melia.png" class="Character" id="Melia" onclick="PurchaseCharacter(this)">
            <p> 200 Points</p>
            
        </div>
        <div>
            <img src = "images/Reyn.png" class="Character" id="Reyn" onclick="PurchaseCharacter(this)">
            <p> 50 Points</p>
        </div>
    </div>
    <div class="Score">
        <p id="Score">Score: 0</p>
    </div>
    <img src="images/Colony9Background.jpg" width="100%"; height = "80%">
    <div class="Content">
        <img src="images/mechon1.png" id="Enemy"; onclick="RegisterHit()" width="190%">
    </div>
  
</div>
</body>
<script>
    var enemy = document.getElementById("Enemy");
    var scoreElement = document.getElementById("Score")
    var reyn = document.getElementById("Reyn")
    var melia = document.getElementById("Melia")
    var dunban = document.getElementById("Dunban")
    var reynPoints = 50;
    var meliaPoints = 200;
    var dunbanPoints = 400;
    var score = 0;
    var cooldown = 20;
    var Dunban_Bought = false;
    var Melia_Bought = false;
    var Reyn_Bought = false;
    var reynSound = new Sound("sounds/reyn_entrannce.wav")
    function CharacterAttack(){
        if(Dunban_Bought==true){

        }
        if(Melia_Bought == true){

        }
        if (Reyn_Bought == true){
            //Need to increment timer
            score += reynMoves();
            // Have the method return the points earned.
        }
    } 
    function PurchaseCharacter(chr){
        if(chr.id == "Reyn"){
            if(score>= reynPoints){
                Reyn_Bought = true;
                console.log("bought")
                score-= reynPoints;
                reynSound.play();
            }
            else{
                console.log("Not enough points")
            }
            console.log("Reyn")
        }
        if(chr.id == "Melia"){
            if(score>= meliaPoints){
                Melia_Bought = true;
                //Buy / activate Melia
                score-= meliaPoints;
            }
            else{
                console.log("Not enough points")
            }
            console.log("Melia")
        }
        if (chr.id == "Dunban"){
            if(score>= dunbanPoints){
                Dunban_Bought = true;
                //Buy / activate Dunban
                score-= dunbanPoints;
            }
            else{
                console.log("Not enough points")
            }
            console.log("Dunban")
        }
        scoreElement.innerHTML = "Score: "+ score;
    }
    function RegisterHit(){
        if(enemy.className == 'HitAnimation'){
            enemy.className= 'HitAnimationAlt'
        }
        else{
            enemy.className= 'HitAnimation';
        }
        score+=1;
        console.log("Hit");
        scoreElement.innerHTML = "Score: "+ score;
        CharacterAttack();
    }
    
    
</script>